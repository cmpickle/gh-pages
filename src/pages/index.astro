---
// src/pages/index.astro
import Layout from '@/layouts/Layout.astro';
import Hero from '@/components/Hero.tsx';
import About from '@/components/About.astro';
import WorkHistory from '@/components/WorkHistory.tsx';
import Projects from '@/components/Projects.tsx';
import Contact from '@/components/Contact.astro';
---

<Layout 
  title="Cameron Pickle - Full Stack Developer" 
  description="Portfolio of Cameron Pickle, a full stack developer specializing in React, Node.js, and modern web technologies."
>
  <main>
    <!-- Hero section with client-side animations -->
    <Hero client:load />
    
    <!-- About section (static) -->
    <About />
    
    <!-- Work History section with animations -->
    <WorkHistory client:visible />
    
    <!-- Projects section with animations -->
    <Projects client:visible />
    
    <!-- Contact section (static) -->
    <Contact />
  </main>
</Layout>

<script>
  // Add smooth scrolling behavior with proper TypeScript types
  document.addEventListener('DOMContentLoaded', (): void => {
    // Handle navigation clicks
    const navLinks = document.querySelectorAll<HTMLAnchorElement>('a[href^="#"]');
    navLinks.forEach((link: HTMLAnchorElement): void => {
      link.addEventListener('click', (e: Event): void => {
        e.preventDefault();
        const href = link.getAttribute('href');
        if (href) {
          const target = document.querySelector<HTMLElement>(href);
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        }
      });
    });
  });
</script>